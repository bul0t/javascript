# Модуль IIFE
Приём программирования модуль IIFE.  
Скрывает внутренние детали реализации скрипта: временные переменные, константы, вспомогательные мини функции и т.д.  
Создание скриптов которые будут отдельными файлами.  

    var message = 'Hello'

    function showMessage() {
      console.log(message)
    }

    showMessage()

У этого скрипта есть свои внутренние переменные и функции: `message`, `showMessage()`.  
Допустим нам нужно распространять этот скрипт в виде библиотеки (файла).  
Но если подключить этот скрипт как есть, то именая переменных и функций могут конфликтовать.  
Нужно создать библиотеке свою область видимости, для избежания конфликтов имен.  
Заворачиваем весь скрипт библиотеки в функцию которую сразу запустим.  

    (function() {
      var message = 'Hello'

      function showMessage() {
        console.log(message)
      }

      showMessage()
    })()

Эта функция называется анонимная самовызывающася функция IIFE.

## Зачем нужны скобки вокруг функции
Без скобок возникнет ошибка.  
Потому что интерпретатор дойдя до ключевого слово `function` ожидает `function declaration`, а значит ему нужно имя функции.  
Но если поставить имя то всё равно возникнет ошибка, потому что на месте можно вызывать только `function expression`.  
Чтобы показать браузеру что это `function expression` (функция в составе выражения) используют скобки.  
Вместо скобок, перед `function` можно поставить оператор `+` или `!`.  
Для большей правильностb перед функцией IIFE можно поставить `;`.  
Точка с запятой понадобится при объединении нескольких JS-файлов в один, при сжатии минификатором (например ошибка может появиться если в предыдущем скрипте не поставлена точка с запятой, поэтому лучше подстраховаться и поставить её самим).  

## return
Из модуля с помощью оператора `return` можно экспортировать данные.

    var myLib = (function() {
      // code...

      return {
        defaults: function() {
          // code...
        }
      }

    })()

Тут скобками можно не оборачивать, потому что `function expression` уже находится внутри выражения.  
Но для улучшения читаемости кода их оставляют чтобы сразу понималось что тут речь идет об IIFE.

## Итог
Модуль при помощи замыкания, это оборачивание пакета функционала, в единую внешнюю функцию, которая тут же выполняется.  
Все функции модуля будут иметь доступ к другим переменным и внутренним функциям этого же модуля через замыкание.  
Снаружи, программист использующий модуль, может обращаться напрямуюю только к тем переменным и функциям, которые экспортированы.  
Благодаря этому будут скрыты внутренние аспекты реализации, которые нужны только разработчику модуля.  
Таким образом, модуль создаёт что-то типа инкапсуляции данных.

Существует несколько синтаксических вариаций модуля:

    (function(){})()
    (function(){}())
    !function(){}()
    +function(){}()
